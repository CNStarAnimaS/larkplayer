/*! larkplayer 10-05-2018 */

!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).larkplayer=e()}}(function(){return function i(l,u,a){function s(t,e){if(!u[t]){if(!l[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(c)return c(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var o=u[t]={exports:{}};l[t][0].call(o.exports,function(e){return s(l[t][1][e]||e)},o,o.exports,i,l,u,a)}return u[t].exports}for(var c="function"==typeof require&&require,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,t,n){"use strict";t.exports=function(e,t,n){if("function"==typeof Array.prototype.find)return e.find(t,n);n=n||this;var r,o=e.length;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(r=0;r<o;r++)if(t.call(n,e[r],r,e))return e[r]}},{}],2:[function(o,i,e){(function(e){var t,n=void 0!==e?e:"undefined"!=typeof window?window:{},r=o("min-document");"undefined"!=typeof document?t=document:(t=n["__GLOBAL_DOCUMENT_CACHE@4"])||(t=n["__GLOBAL_DOCUMENT_CACHE@4"]=r),i.exports=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":4}],3:[function(e,n,t){(function(e){var t;t="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},n.exports=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,t,n){},{}],5:[function(e,t,n){var c=1/0,o=9007199254740991,f=1.7976931348623157e308,d=NaN,a="[object Arguments]",i="[object Function]",l="[object GeneratorFunction]",p="[object String]",h="[object Symbol]",y=/^\s+|\s+$/g,g=/^[-+]0x[0-9a-f]+$/i,v=/^0b[01]+$/i,m=/^0o[0-7]+$/i,r=/^(?:0|[1-9]\d*)$/,b=parseInt;function w(e){return e!=e}function E(t,e){return function(e,t){for(var n=-1,r=e?e.length:0,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}(e,function(e){return t[e]})}var u,s,S=Object.prototype,C=S.hasOwnProperty,_=S.toString,k=S.propertyIsEnumerable,M=(u=Object.keys,s=Object,function(e){return u(s(e))}),O=Math.max;function F(e,t){var n,r,o=A(e)||R(r=n=e)&&x(r)&&C.call(n,"callee")&&(!k.call(n,"callee")||_.call(n)==a)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],i=o.length,l=!!i;for(var u in e)!t&&!C.call(e,u)||l&&("length"==u||j(u,i))||o.push(u);return o}function T(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||S,t!==r)return M(e);var t,n,r,o=[];for(var i in Object(e))C.call(e,i)&&"constructor"!=i&&o.push(i);return o}function j(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||r.test(e))&&-1<e&&e%1==0&&e<t}var A=Array.isArray;function x(e){return null!=e&&("number"==typeof(r=e.length)&&-1<r&&r%1==0&&r<=o)&&!((n=P(t=e)?_.call(t):"")==i||n==l);var t,n,r}function P(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function R(e){return!!e&&"object"==typeof e}t.exports=function(e,t,n,r){var o,i,l,u;e=x(e)?e:(o=e)?E(o,x(i=o)?F(i):T(i)):[],n=n&&!r?(l=function(e){if(!e)return 0===e?e:0;if((e=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||R(t)&&_.call(t)==h)return d;var t;if(P(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=P(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(y,"");var r=v.test(e);return r||m.test(e)?b(e.slice(2),r?2:8):g.test(e)?d:+e}(e))===c||e===-c){var t=e<0?-1:1;return t*f}return e==e?e:0}(n),u=l%1,l==l?u?l-u:l:0):0;var a,s=e.length;return n<0&&(n=O(s+n,0)),"string"==typeof(a=e)||!A(a)&&R(a)&&_.call(a)==p?n<=s&&-1<e.indexOf(t,n):!!s&&-1<function(e,t,n){if(t!=t)return function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}(e,w,n);for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}(e,t,n)}},{}],6:[function(e,t,n){var l=9007199254740991,s="[object Arguments]",u="[object Function]",a="[object GeneratorFunction]",r=/^(?:0|[1-9]\d*)$/;function o(t,e){return function(e,t){for(var n=-1,r=e?e.length:0,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}(e,function(e){return t[e]})}var i,c,f=Object.prototype,d=f.hasOwnProperty,p=f.toString,h=f.propertyIsEnumerable,y=(i=Object.keys,c=Object,function(e){return i(c(e))});function g(e,t){var n,r,o,i=b(e)||(o=r=n=e)&&"object"==typeof o&&w(r)&&d.call(n,"callee")&&(!h.call(n,"callee")||p.call(n)==s)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=i.length,u=!!l;for(var a in e)!t&&!d.call(e,a)||u&&("length"==a||m(a,l))||i.push(a);return i}function v(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||f,t!==r)return y(e);var t,n,r,o=[];for(var i in Object(e))d.call(e,i)&&"constructor"!=i&&o.push(i);return o}function m(e,t){return!!(t=null==t?l:t)&&("number"==typeof e||r.test(e))&&-1<e&&e%1==0&&e<t}var b=Array.isArray;function w(e){return null!=e&&("number"==typeof(i=e.length)&&-1<i&&i%1==0&&i<=l)&&(o=typeof(r=t=e),!((n=!r||"object"!=o&&"function"!=o?"":p.call(t))==u||n==a));var t,n,r,o,i}t.exports=function(e){return e?o(e,w(t=e)?g(t):v(t)):[];var t}},{}],7:[function(e,t,n){"use strict";var a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,r,o=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),i=1;i<arguments.length;i++){for(var l in n=Object(arguments[i]))s.call(n,l)&&(o[l]=n[l]);if(a){r=a(n);for(var u=0;u<r.length;u++)c.call(n,r[u])&&(o[r[u]]=n[r[u]])}}return o}},{}],8:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=r.isEl(e.el)?e.el:r.createElement("div");e.on=function(e,t){o.on(n,e,t)},e.off=function(e,t){o.off(n,e,t)},e.one=function(e,t){o.one(n,e,t)},e.trigger=function(e,t){o.trigger(n,e,t)}};var r=i(e("../utils/dom")),o=i(e("./events"));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}},{"../utils/dom":20,"./events":9}],9:[function(e,t,n){"use strict";n.__esModule=!0,n.on=l,n.off=u,n.one=function(t,n,r){var o=3<arguments.length&&void 0!==arguments[3]&&arguments[3];l(t,n,function e(){r();u(t,n,e,o)},o)},n.trigger=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};n=(0,i.default)({bubbles:!1,cancelable:!1,detail:null},n);var r=o.default.createEvent("CustomEvent");r.initCustomEvent(t,n.bubbles,n.cancelable,n.detail),e.dispatchEvent(r)};var o=r(e("global/document")),i=r(e("object-assign"));function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]&&arguments[3];e.addEventListener(t,n,r)}function u(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]&&arguments[3];e.removeEventListener(t,n,r)}},{"global/document":2,"object-assign":7}],10:[function(e,t,n){"use strict";n.__esModule=!0;var r,o=e("global/document"),i=(r=o)&&r.__esModule?r:{default:r},l=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(e("../events/events"));var u=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],a={};u.forEach(function(e,t){e&&e[1]in i.default&&e.forEach(function(e,t){a[u[0][t]]=e})}),n.default={requestFullscreen:function(e){e[a.requestFullscreen]()},exitFullscreen:function(){i.default[a.exitFullscreen]()},fullscreenElement:function(){return i.default[a.fullscreenElement]},fullscreenEnabled:function(){return i.default[a.fullscreenEnabled]},isFullscreen:function(){return!!this.fullscreenElement()},fullscreenchange:function(e){l.on(i.default,a.fullscreenchange,e)},fullscreenerror:function(e){l.on(i.default,a.fullscreenerror,e)},off:function(e,t){e?t?l.off(i.default,e,t):l.off(i.default,e):(l.off(i.default,a.fullscreenchange),l.off(i.default,a.fullscreenerror))}}},{"../events/events":9,"global/document":2}],11:[function(e,t,n){"use strict";n.__esModule=!0;var r=s(e("global/window")),o=s(e("global/document")),i=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(e("../utils/dom")),l=s(e("../utils/to-title-case")),u=s(e("../utils/normalize-source")),a=s(e("../events/evented"));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.options=t,this.el=this.options.el,(0,a.default)(this,{eventBusKey:this.el}),this.proxyWebkitFullscreen()}return n.prototype.dispose=function(){n.disposeMediaElement(this.el)},n.prototype.setCurrentTime=function(e){try{this.el.currentTime=e}catch(e){console.log(e,"Video is not ready")}},n.prototype.width=function(){return this.el.offsetWidth},n.prototype.height=function(){return this.el.offsetHeight},n.prototype.proxyWebkitFullscreen=function(){var e=this;if("webkitDisplayingFullscreen"in this.el){var t=function(){this.trigger("fullscreenchange",{detail:{isFullscreen:!1}})},n=function(){"webkitPresentationMode"in this.el&&"picture-in-picture"!==this.el.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{detail:{isFullscreen:!0}}))};n=n.bind(this),t=t.bind(this),this.on("webkitbeginfullscreen",n),this.on("dispose",function(){e.off("webkitbeginfullscreen",n),e.off("webkitendfullscreen",t)})}},n.prototype.supportsFullScreen=function(){if("function"==typeof this.el.webkitEnterFullScreen){var e=r.default.navigator&&r.default.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},n.prototype.enterFullScreen=function(){"function"==typeof this.el.webkitEnterFullScreen&&this.el.webkitEnterFullScreen()},n.prototype.exitFullScreen=function(){"function"==typeof this.el.webkitExitFullScreen&&(this.player.removeClass("lark-fullscreen"),this.el.webkitExitFullScreen())},n.prototype.src=function(e){if(void 0===e)return this.el.currentSrc||this.el.src;this.setSrc(e)},n.prototype.source=function(e){if(void 0===e){var t=i.$$("source",this.el);return Array.from(t).map(function(e){return{src:e.src,type:e.type}})}e=(0,u.default)(e);var n=o.default.createDocumentFragment();e.forEach(function(e){var t=i.createElement("source",{src:e.src,type:e.type});n.appendChild(t)}),this.el.appendChild(n)},n.prototype.reset=function(){n.resetMediaElement(this.el)},n.prototype.currentSrc=function(){return this.currentSource?this.currentSource.src:this.el.currentSrc},n.prototype.setControls=function(e){this.el.controls=!!e},n.prototype.getVideoPlaybackQuality=function(){},n}();(n.default=c).TEST_VID=o.default.createElement("video"),c.isSupported=function(){try{c.TEST_VID.volume=.5}catch(e){return!1}return!(!c.TEST_VID||!c.TEST_VID.canPlayType)},c.canPlayType=function(e){return c.TEST_VID.canPlayType(e)},c.canControlVolume=function(){try{var e=c.TEST_VID.volume;return c.TEST_VID.volume=e/2+.1,e!==c.TEST_VID.volume}catch(e){return!1}},c.canControlPlaybackRate=function(){try{var e=c.TEST_VID.playbackRate;return c.TEST_VID.playbackRate=e/2+.1,e!==c.TEST_VID.playbackRate}catch(e){return!1}},c.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],c.prototype.featuresVolumeControl=c.canControlVolume(),c.prototype.featuresPlaybackRate=c.canControlPlaybackRate(),c.prototype.featuresFullscreenResize=!0,c.prototype.featuresProgressEvents=!0,c.prototype.featuresTimeupdateEvents=!0,c.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){console.log(e)}}()}},c.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(e){c.prototype[e]=function(){return this.el[e]||this.el.hasAttribute(e)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){c.prototype["set"+(0,l.default)(t)]=function(e){(this.el[t]=e)?this.el.setAttribute(t,t):this.el.removeAttribute(t)}}),["paused","currentTime","duration","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(e){c.prototype[e]=function(){return this.el[e]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(t){c.prototype["set"+(0,l.default)(t)]=function(e){this.el[t]=e}}),["pause","load","play"].forEach(function(e){c.prototype[e]=function(){return this.el[e]()}})},{"../events/evented":8,"../utils/dom":20,"../utils/normalize-source":26,"../utils/to-title-case":29,"global/document":2,"global/window":3}],12:[function(e,t,n){"use strict";var o=p(e("object-assign")),i=d(e("./utils/dom")),r=d(e("./events/events")),l=p(e("./player")),u=p(e("./html5/html5")),a=p(e("./plugin/component")),s=p(e("./plugin/media-source-handler")),c=p(e("./plugin/plugin")),f=p(e("./utils/utils"));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n){if(!u.default.isSupported())return!1;var r=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){};if(t=(0,o.default)({playsinline:!0},t),"string"==typeof e&&(e=i.$(/^#/.test(e)?e:"#"+e)),!i.isEl(e))throw new Error("[larkplayer initial error]: el should be an id or DOM element!");if("VIDEO"!==e.tagName.toUpperCase()){var r=i.createElement("video",{id:e.id+"-video"});e.appendChild(r),e=r,r=null}return{el:e,options:t,readyFn:n}}(e,t,n);return e=r.el,t=r.options,n=r.readyFn,new l.default(e,t,n)}(0,o.default)(h,{Events:r,DOM:i,Component:a.default,MediaSourceHandler:s.default,Plugin:c.default,util:f.default}),t.exports=h},{"./events/events":9,"./html5/html5":11,"./player":13,"./plugin/component":14,"./plugin/media-source-handler":15,"./plugin/plugin":18,"./utils/dom":20,"./utils/utils":30,"object-assign":7}],13:[function(e,t,n){"use strict";n.__esModule=!0;var l=w(e("lodash.includes")),r=w(e("global/document")),i=w(e("./html5/html5")),u=w(e("./html5/fullscreen")),a=w(e("./plugin/component")),s=w(e("./plugin/media-source-handler")),c=w(e("./plugin/plugin")),f=w(e("./plugin/plugin-types")),d=b(e("./events/events")),p=b(e("./utils/dom")),o=w(e("./utils/to-title-case")),h=w(e("./events/evented")),y=e("./utils/obj"),g=w(e("./utils/log")),v=w(e("./utils/computed-style")),m=w(e("./utils/feature-detector"));function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function w(e){return e&&e.__esModule?e:{default:e}}var E=function(){function o(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.isReady=!1,(this.player=this).options=t,this.tag=e,this.el=this.createEl(),this.ready(n),(0,h.default)(this,{eventBusKey:this.el}),this.handleFirstplay=this.handleFirstplay.bind(this),this.handleTouchEnd=this.handleTouchEnd.bind(this),this.handleFullscreenChange=this.handleFullscreenChange.bind(this),this.handleFullscreenError=this.handleFullscreenError.bind(this),this.handleClick=this.handleClick.bind(this),this.fullWindowOnEscKey=this.fullWindowOnEscKey.bind(this),m.default.touch?this.on("touchend",this.handleTouchEnd):this.on("click",this.handleClick),this.tech||(this.tech=this.loadTech());var r=this.src();r&&(this.handleLateInit(this.tech.el),this.callMS(r)),this.initialUIPlugins(),this.initialNormalPlugins(),this.techGet("error")&&d.trigger(this.tech.el,"error"),this.triggerReady()}return o.prototype.initialNormalPlugins=function(){var r=this;this[f.default.OTHERS]={},c.default.getAll().forEach(function(e){var t=e._displayName,n=new e(r,r.getPluginOptions(t,f.default.OTHERS));r[f.default.OTHERS][t]=n})},o.prototype.initialUIPlugins=function(){var o=this;(a.default.player=this)[f.default.UI]={},a.default.getAll().forEach(function(e){var t=e._displayName,n=new e(o,o.getPluginOptions(t,f.default.UI)),r=n.el;o.el.appendChild(r),o[f.default.UI][t]=n})},o.prototype.getPluginOptions=function(e,t){return this.options&&this.options[t]&&this.options[t][e]},o.prototype.callMS=function(e){this.disposeMS();var t=s.default.select(e);return!!t&&(this.MSHandler=new t(this,this.getPluginOptions(t._displayName,f.default.MS)),this.MSHandler.src(e),!0)},o.prototype.disposeMS=function(){this.MSHandler&&(this.MSHandler.dispose(),this.MSHandler=null)},o.prototype.ready=function(e){var t=this;e&&(this.isReady?setTimeout(function(){e.call(t)},1):(this.readyQueue=this.readyQueue||[],this.readyQueue.push(e)))},o.prototype.triggerReady=function(){var t=this;this.isReady=!0,setTimeout(function(){var e=t.readyQueue;t.readyQueue=[],e&&e.length&&e.forEach(function(e){e.call(t)}),t.trigger("ready")},1)},o.prototype.removeClass=function(e){return p.removeClass(this.el,e)},o.prototype.addClass=function(e){return p.addClass(this.el,e)},o.prototype.hasClass=function(e){return p.hasClass(this.el,e)},o.prototype.toggleClass=function(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e)},o.prototype.dispose=function(){this.trigger("dispose"),u.default.off(),this.disposeMS(),this.tag&&this.tag.player&&(this.tag.player=null),this.el&&this.el.player&&(this.el.player=null),this.tech&&this.tech.dispose()},o.prototype.createEl=function(){var e=this,n=this.tag,r=["autoplay","controls","height","loop","muted","poster","preload","auto","metadata","none","src","width","playsinline"];(0,y.each)(this.options,function(e,t){(0,l.default)(r,t)&&e&&p.setAttribute(n,t,e)}),this.options.source&&this.ready(function(){e.source(e.options.source)});var t=p.createElement("div",{className:"larkplayer",id:n.id+"-larkplayer"});if(p.setAttribute(n,"tabindex","-1"),n.parentNode&&n.parentNode.insertBefore(t,n),n.width){var o=n.getAttribute("width");t.style.width=o+"px",n.removeAttribute("width")}if(n.height){var i=n.getAttribute("height");t.style.height=i+"px",n.removeAttribute("height")}return n.setAttribute("width","100%"),n.setAttribute("height","100%"),t.appendChild(n),t},o.prototype.handleLateInit=function(e){var t=this;if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var n=!1,r=function(){n=!0};this.on("loadstart",r);var o=function(){n||t.trigger("loadstart")};return this.on("loadedmetadata",o),void this.ready(function(){t.off("loadstart",r),t.off("loadedmetadata",o),n||t.trigger("loadstart")})}var i=["loadstart","loadedmetadata"];2<=e.readyState&&i.push("loadeddata"),3<=e.readyState&&i.push("canplay"),4<=e.readyState&&i.push("canplaythrough"),this.ready(function(){i.forEach(function(e){t.trigger(e)})})}},o.prototype.loadTech=function(){var t=this;this.options.el=this.tag;var n=new i.default(this.player,this.options);return["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"].forEach(function(e){d.on(n.el,e,function(){t.trigger(e)})}),this.off("play",this.handleFirstplay),this.one("play",this.handleFirstplay),d.on(n.el,"fullscreenchange",this.handleFullscreenChange),u.default.fullscreenchange(this.handleFullscreenChange),u.default.fullscreenerror(this.handleFullscreenError),n},o.prototype.techGet=function(e){return this.tech[e]()},o.prototype.techCall=function(e,t){try{this.tech[e](t)}catch(e){(0,g.default)(e)}},o.prototype.width=function(e){if(void 0===e)return parseInt((0,v.default)(this.el,"width"),0);/\d$/.test(e)&&(e+="px"),this.el.style.width=e},o.prototype.height=function(e){if(void 0===e)return parseInt((0,v.default)(this.el,"height"),0);/\d$/.test(e)&&(e+="px"),this.el.style.height=e},o.prototype.handleFirstplay=function(){this.trigger("firstplay")},o.prototype.handleTouchEnd=function(e){var t=!1;(p.parent(e.target,"lark-play-button")||p.parent(e.target,"lark-control-bar"))&&(t=!0),t||this.paused()&&this.play()},o.prototype.handleFullscreenChange=function(e){1<arguments.length&&void 0!==arguments[1]&&arguments[1];var t={};e.detail&&void 0!==e.detail.isFullscreen?this.fullscreenStatus=e.detail.isFullscreen:u.default.fullscreenEnabled()&&(this.fullscreenStatus=u.default.isFullscreen()),this.isFullscreen()?(t.isFullscreen=!0,this.addClass("lark-fullscreen")):(t.isFullscreen=!1,this.removeClass("lark-fullscreen"),this.removeClass("lark-fullscreen-adjust")),this.trigger("fullscreenchange",{detail:t})},o.prototype.handleFullscreenError=function(){this.trigger("fullscreenerror")},o.prototype.handleClick=function(e){var t=!1;((p.parent(e.target,"lark-control-bar-pc")||p.hasClass(e.target,"lark-control-bar-pc"))&&(t=!0),t)||(this.paused()?this.play():this.pause())},o.prototype.isFullscreen=function(){return this.fullscreenStatus||!1},o.prototype.requestFullscreen=function(){this.fullscreenStatus=!0,u.default.fullscreenEnabled()?(this.addClass("lark-fullscreen-adjust"),u.default.requestFullscreen(this.el)):this.tech.supportsFullScreen()?this.techGet("enterFullScreen"):this.enterFullWindow()},o.prototype.exitFullscreen=function(){this.fullscreenStatus=!1,u.default.fullscreenEnabled()&&u.default.isFullscreen()?(this.removeClass("lark-fullscreen-adjust"),u.default.exitFullscreen()):this.tech.supportsFullScreen()?this.techGet("exitFullScreen"):this.exitFullWindow()},o.prototype.enterFullWindow=function(){this.addClass("lark-full-window"),this.trigger("fullscreenchange"),d.on(r.default,"keydown",this.fullWindowOnEscKey)},o.prototype.fullWindowOnEscKey=function(e){27===(e.keyCode||e.which)&&this.exitFullWindow()},o.prototype.exitFullWindow=function(){this.removeClass("lark-full-window"),this.trigger("fullscreenchange"),d.off(r.default,"keydown",this.fullWindowOnEscKey)},o.prototype.internalPlay=function(){var e=this.techGet("play");e&&e.then&&e.then(null,function(e){g.default.error(e)})},o.prototype.play=function(){this.MSHandler?this.MSHandler.play():this.isReady?this.internalPlay():this.ready(this.internalPlay)},o.prototype.pause=function(){this.techCall("pause")},o.prototype.load=function(){this.techCall("load")},o.prototype.reset=function(){this.pause(),this.techCall("reset"),this.children.forEach(function(e){e&&e.reset&&e.reset()})},o.prototype.paused=function(){return this.techGet("paused")},o.prototype.played=function(){return this.techGet("played")},o.prototype.currentTime=function(e){if(void 0===e)return this.techGet("currentTime")||0;this.techCall("setCurrentTime",e)},o.prototype.duration=function(){return this.techGet("duration")},o.prototype.remainingTime=function(){return this.duration()-this.currentTime()},o.prototype.buffered=function(){return this.techGet("buffered")},o.prototype.bufferedEnd=function(){var e=this.buffered(),t=this.duration();return!(!e||!t)&&e.end(e.length-1)===t},o.prototype.seeking=function(){return this.techGet("seeking")},o.prototype.seekable=function(){return this.techGet("seekable")},o.prototype.ended=function(){return this.techGet("ended")},o.prototype.networkState=function(){return this.techGet("networkState")},o.prototype.videoWidth=function(){return this.techGet("videoWidth")},o.prototype.videoHeight=function(){return this.techGet("videoHeight")},o.prototype.volume=function(e){if(void 0===e)return this.techGet("volume");this.techCall("setVolume",Math.min(1,Math.max(e,0)))},o.prototype.src=function(e){if(void 0===e)return this.techGet("src");this.callMS(e)||this.techCall("setSrc",e),this.off("play",this.handleFirstplay),this.one("play",this.handleFirstplay),this.trigger("srcchange",{detail:e})},o.prototype.source=function(e){if(void 0===e)return this.techGet("source");this.techCall("source",e),this.trigger("srcchange",{detail:this.player.src()})},o.prototype.playbackRate=function(e){if(void 0===e)return this.tech&&this.tech.featuresPlaybackRate?this.techGet("playbackRate"):1;this.techCall("setPlaybackRate",e)},o.prototype.defaultPlaybackRate=function(e){if(void 0===e)return this.tech&&this.tech.featuresPlaybackRate?this.techGet("defaultPlaybackRate"):1;this.techCall("setDefaultPlaybackRate",e)},o.prototype.poster=function(e){if(void 0===e)return this.techGet("poster");this.techCall("setPoster",e)},o}();["muted","defaultMuted","autoplay","loop","playsinline","preload","controls"].forEach(function(t){E.prototype[t]=function(e){if(void 0===e)return this.techGet(t);this.techCall("set"+(0,o.default)(t),e),this.options[t]=e}}),n.default=E},{"./events/evented":8,"./events/events":9,"./html5/fullscreen":10,"./html5/html5":11,"./plugin/component":14,"./plugin/media-source-handler":15,"./plugin/plugin":18,"./plugin/plugin-types":17,"./utils/computed-style":19,"./utils/dom":20,"./utils/feature-detector":21,"./utils/log":24,"./utils/obj":27,"./utils/to-title-case":29,"global/document":2,"lodash.includes":5}],14:[function(e,t,n){"use strict";n.__esModule=!0;var r=u(e("./plugin-store")),o=u(e("./plugin-types")),a=l(e("../utils/dom")),i=(l(e("../events/events")),u(e("../events/evented"))),s=u(e("../utils/to-camel-case"));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function u(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),this.player=e,this.options=t,this.el=this.createEl(this.options),(0,i.default)(this,{eventBusKey:this.el}),this.dispose=this.dispose.bind(this),this.player.on("dispose",this.dispose)}return u.prototype.createEl=function(){return a.createElement("div",this.options)},u.prototype.dispose=function(){this.player.off("dispose",this.dispose),a.isEl(this.el)&&this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.player=null,this.options=null,this.el=null},u.createElement=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};t=t||{};var n=void 0;"string"==typeof e?n=u.get((0,s.default)(e)):e.prototype instanceof u&&(n=e);for(var r=arguments.length,o=Array(2<r?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];if(n){var l=new n(this.player,t).el;return o&&a.appendContent(l,o),l}return a.createElement.apply(a,[e,t].concat(o))},u.register=function(e,t){return r.default.add(e,t,o.default.UI)},u.unregister=function(e){r.default.delete(e,o.default.UI)},u.get=function(e){return r.default.get(e,o.default.UI)},u.getAll=function(){return r.default.getAll(o.default.UI)},u}();n.default=c},{"../events/evented":8,"../events/events":9,"../utils/dom":20,"../utils/to-camel-case":28,"./plugin-store":16,"./plugin-types":17}],15:[function(e,t,n){"use strict";n.__esModule=!0;var o=r(e("array-find")),i=r(e("./plugin-store")),l=r(e("./plugin-types"));function r(e){return e&&e.__esModule?e:{default:e}}var u=function(){function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.player=e,this.options=t}return r.prototype.src=function(e){this.player.techCall("setSrc",e)},r.prototype.play=function(){this.player.techCall("play")},r.prototype.dispose=function(){this.player=null,this.options=null},r.canPlay=function(e,t){return!1},r.register=function(e,t){return i.default.add(e,t,l.default.MS)},r.unregister=function(e){i.default.delete(e,l.default.MS)},r.getAll=function(){return i.default.getAll(l.default.MS)},r.select=function(t,n){var e=r.getAll();return(0,o.default)(e,function(e){return e.canPlay(t,n)})},r}();n.default=u},{"./plugin-store":16,"./plugin-types":17,"array-find":1}],16:[function(e,t,n){"use strict";n.__esModule=!0;var r=c(e("lodash.values")),o=c(e("./component")),i=c(e("./media-source-handler")),l=c(e("./plugin")),u=c(e("./plugin-types")),a=e("../utils/guid"),s=c(e("../utils/to-camel-case"));function c(e){return e&&e.__esModule?e:{default:e}}var f=u.default.UI,d=u.default.MS,p=u.default.OTHERS;function h(){var e;return(e={})[f]={},e[d]={},e[p]={},e}n.default={store:h(),validate:function(e,t){switch(t){case f:return e&&e.prototype instanceof o.default;case d:return e&&e.prototype instanceof i.default;case p:return e&&e.prototype instanceof l.default;default:return!1}},has:function(e,t){return this.store[t]&&this.store[t][e]},add:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];if(this.validate(e,n)){var r=t.name||(0,s.default)(e.name)||"plugin_"+(0,a.newGUID)();return e._displayName=r,this.has(r,n)||(this.store[n][r]=e),!0}return!1},delete:function(e,t){this.has(e,t)&&delete this.store[t][e]},clear:function(){this.store=h()},get:function(e,t){if(this.has(e,t))return this.store[t][e]},getAll:function(e){switch(e){case f:return(0,r.default)(this.store[f]);case d:return(0,r.default)(this.store[d]);case p:return(0,r.default)(this.store[p]);default:var t=[];for(var n in this.store)this.store.hasOwnProperty(n)&&t.concat((0,r.default)(this.store[n]));return t}}}},{"../utils/guid":23,"../utils/to-camel-case":28,"./component":14,"./media-source-handler":15,"./plugin":18,"./plugin-types":17,"lodash.values":6}],17:[function(e,t,n){"use strict";n.__esModule=!0,n.default={UI:"UI",MS:"MS",OTHERS:"plugin"}},{}],18:[function(e,t,n){"use strict";n.__esModule=!0;var r=i(e("./plugin-store")),o=i(e("./plugin-types"));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(){function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.player=e,this.options=t,this.dispose=this.dispose.bind(this),this.player.on("dispose",this.dispose)}return n.prototype.dispose=function(){this.player=null,this.options=null},n.register=function(e,t){r.default.add(e,t,o.default.OTHERS)},n.unregister=function(e){r.default.delete(e,o.default.OTHERS)},n.get=function(e){r.default.get(e,o.default.OTHERS)},n.getAll=function(){return r.default.getAll(o.default.OTHERS)},n}();n.default=l},{"./plugin-store":16,"./plugin-types":17}],19:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function(e,t){if(!e||!t)return"";if("function"==typeof i.default.getComputedStyle){var n=i.default.getComputedStyle(e);return n?n[t]:""}return e.currentStyle&&e.currentStyle[t]||""};var r,o=e("global/window"),i=(r=o)&&r.__esModule?r:{default:r}},{"global/window":3}],20:[function(e,t,n){"use strict";n.__esModule=!0,n.$$=n.$=void 0,n.isReal=function(){return void 0!==f.default.createElement},n.isEl=a,n.createQuerier=s,n.createEl=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],o=f.default.createElement(e);null==n&&(n={});null==t&&(t={});Object.keys(n).forEach(function(e){var t=n[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?o.setAttribute(e,t):"textContent"===e?d(o,t):o[e]=t}),Object.keys(t).forEach(function(e){o.setAttribute(e,t[e])}),r&&C(o,r);return o},n.createElement=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=f.default.createElement(e);null==t&&(t={});Object.keys(t).forEach(function(e){m(n,"className"===e?"class":e,t[e]),n[e]=t[e]});for(var r=arguments.length,o=Array(2<r?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];o&&C(n,o);return n},n.textContent=d,n.normalizeContent=p,n.isTextNode=h,n.prependTo=function(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)},n.parent=function(e,t){var n=null;for(;e&&e.parentNode;)y(e.parentNode,t)?(n=e.parentNode,e=null):e=e.parentNode;return n},n.hasClass=y,n.addClass=g,n.removeClass=v,n.toggleClass=function(e,t,n){var r=y(e,t);"function"==typeof n&&(n=n(e,t));"boolean"!=typeof n&&(n=!r);if(n===r)return;n?g(e,t):v(e,t);return e},n.setAttributes=function(n,r){Object.keys(r).forEach(function(e){var t=r[e];null==t||!1===t?n.removeAttribute(e):n.setAttribute(e,!0===t?"":t)})},n.getAttributes=function(e){var t={},n=["autoplay","controls","playsinline","webkit-playsinline","loop","muted","default","defaultMuted"];if(e&&e.attributes&&e.attributes.length)for(var r=e.attributes,o=0;o<r.length;o++){var i=r[o].name,l=r[o].value;("boolean"==typeof e[i]||(0,u.default)(n,i))&&(l=null!==l),t[i]=l}return t},n.getAttribute=function(e,t){return e.getAttribute(t)},n.setAttribute=m,n.removeAttribute=b,n.blockTextSelection=function(){f.default.body.focus(),f.default.onselectstart=function(){return!1}},n.unblockTextSelection=function(){f.default.onselectstart=function(){return!0}},n.getBoundingClientRect=w,n.findPosition=E,n.getPointerPosition=function(e,t){var n=E(e),r=e.offsetWidth,o=e.offsetHeight,i=n.top,l=n.left,u=t.pageX,a=t.pageY;t.changedTouches&&(u=t.changedTouches[0].pageX,a=t.changedTouches[0].pageY);return{x:Math.max(0,Math.min(1,(u-l)/r)),y:Math.max(0,Math.min(1,(i-a+o)/o))}},n.emptyEl=S,n.appendContent=C,n.insertContent=function(e,t){return C(S(e),t)},n.replaceContent=function(e,t){return C(S(e),t)};var u=i(e("lodash.includes")),c=i(e("global/window")),f=i(e("global/document")),r=e("./obj"),o=i(e("./computed-style"));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return"string"==typeof e&&/\S/.test(e)}function a(e){return(0,r.isObject)(e)&&1===e.nodeType}function s(r){return function(e,t){if(!l(e))return f.default[r](null);l(t)&&(t=f.default.querySelector(t));var n=a(t)?t:f.default;return n[r]&&n[r](e)}}function d(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function p(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[].concat(e)).map(function(e){return"function"==typeof e&&(e=e()),a(e)||h(e)?e:l(e)?f.default.createTextNode(e):void 0}).filter(function(e){return!!e})}function h(e){return(0,r.isObject)(e)&&3===e.nodeType}function y(e,t){return function(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}(t),e.classList?e.classList.contains(t):(n=t,new RegExp("(^|\\s+)"+n+"($|\\s+)")).test(e.className);var n}function g(e,t){return e.classList?e.classList.add(t):y(e,t)||(e.className=(e.className+" "+t).trim()),e}function v(e,t){return y(e,t)&&(e.classList?e.classList.remove(t):e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function m(e,t,n){!1===n?b(e,t):e.setAttribute(t,!0===n?"":n)}function b(e,t){e.removeAttribute(t)}function w(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),n={};return["top","right","bottom","left","width","height"].forEach(function(e){void 0!==t[e]&&(n[e]=t[e])}),n.height||(n.height=parseFloat((0,o.default)(e,"height"))),n.width||(n.width=parseFloat((0,o.default)(e,"width"))),n}}function E(e){var t=w(e);if(!t)return{left:0,top:0};var n=f.default.documentElement,r=f.default.body,o=n.clientLeft||r.clientLeft||0,i=c.default.pageXOffset||r.scrollLeft,l=t.left+i-o,u=n.clientLeft||r.clientLeft||0,a=c.default.pageYOffset||r.scrollTop,s=t.top+a-u;return{left:Math.round(l),top:Math.round(s)}}function S(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function C(t,e){return p(e).forEach(function(e){return t.appendChild(e)}),t}n.$=s("querySelector"),n.$$=s("querySelectorAll")},{"./computed-style":19,"./obj":27,"global/document":2,"global/window":3,"lodash.includes":5}],21:[function(e,t,n){"use strict";n.__esModule=!0;var r,o=e("global/document"),i=(r=o)&&r.__esModule?r:{default:r};n.default={touch:"ontouchend"in i.default}},{"global/document":2}],22:[function(e,t,n){"use strict";n.__esModule=!0,n.bind=function(r,o){r.guid||(r.guid=(0,i.newGUID)());return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.apply(o,t)}},n.throttle=function(t,n){var r=Date.now();return function(){var e=Date.now();n<=e-r&&(t.apply(void 0,arguments),r=e)}};var i=e("./guid")},{"./guid":23}],23:[function(e,t,n){"use strict";n.__esModule=!0,n.newGUID=function(){return r++};var r=1},{}],24:[function(e,t,n){"use strict";function r(){var e;(e=console).log.apply(e,arguments)}n.__esModule=!0,(n.default=r).info=console.info,r.warn=console.warn,r.error=console.error,r.clear=console.clear},{}],25:[function(e,t,n){"use strict";n.__esModule=!0,n.default={flv:"video/x-flv",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",m3u8:"application/x-mpegURL",ts:"video/MP2T","3gp":"video/3gpp",mov:"video/quicktime",avi:"video/x-msvideo",wmv:"video/x-ms-wmv"}},{}],26:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function(e){{if((0,o.isPlain)(e))return[a(e)];if(Array.isArray(e))return e.map(function(e){return a(e)});throw new TypeError("Source should be an Object or an Array which contains Object")}};var r,o=e("./obj"),i=e("./mime-type-map"),l=(r=i)&&r.__esModule?r:{default:r};var u=/\.([\w]+)$/;function a(e){if(!(0,o.isPlain)(e))throw new TypeError("SingleSource should be an Object");if("string"!=typeof e.src)throw new TypeError("SingleSource.src should be a string");if(e.hasOwnProperty("type")&&"string"!=typeof e.type)throw new TypeError("SingleSource.type should be a string");return e.type||(e.type=function(e){var t="";if("string"==typeof e){var n=e.match(u);Array.isArray(n)&&(t=n[1])}return l.default[t]}(e.src)),e}},{"./mime-type-map":25,"./obj":27}],27:[function(e,t,n){"use strict";n.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e){return!!e&&"object"===(void 0===e?"undefined":r(e))}n.isObject=o,n.isPlain=function(e){return o(e)&&"[object Object]"===Object.prototype.toString.call(e)&&e.constructor===Object},n.each=function(t,n){Object.keys(t).forEach(function(e){return n(t[e],e)})}},{}],28:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function(e){if("string"!=typeof e)return e;return e.charAt(0).toLowerCase()+e.slice(1)}},{}],29:[function(e,t,n){"use strict";function r(e){return"string"!=typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)}n.__esModule=!0,n.default=r,n.titleCaseEquals=function(e,t){return r(e)===r(t)}},{}],30:[function(e,t,n){"use strict";n.__esModule=!0;var r=d(e("./computed-style")),o=d(e("./feature-detector")),i=f(e("./fn")),l=f(e("./guid")),u=d(e("./mime-type-map")),a=f(e("./obj")),s=d(e("./to-camel-case")),c=d(e("./to-title-case"));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}n.default={computedStyle:r.default,featureDetector:o.default,fn:i,guid:l,mimeTypeMap:u.default,obj:a,toCamelCase:s.default,toTitleCase:c.default}},{"./computed-style":19,"./feature-detector":21,"./fn":22,"./guid":23,"./mime-type-map":25,"./obj":27,"./to-camel-case":28,"./to-title-case":29}]},{},[12])(12)});