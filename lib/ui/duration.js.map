{"version":3,"sources":["../../js/ui/duration.js"],"names":["Dom","Duration","player","options","handleLoadedMetaData","bind","on","event","textContent","el","Math","floor","duration","durationContent","createEl","className","registerComponent"],"mappings":";;;;;;;;AAKA;;;;AACA;;IAAYA,G;;AACZ;;;;;;;;;;+eAPA;;;;;;;IASqBC,Q;;;AACjB,sBAAYC,MAAZ,EAAoBC,OAApB,EAA6B;AAAA;;AAAA,wHACnBD,MADmB,EACXC,OADW;;AAGzB,cAAKC,oBAAL,GAA4B,MAAKA,oBAAL,CAA0BC,IAA1B,OAA5B;;AAEAH,eAAOI,EAAP,CAAU,gBAAV,EAA4B,MAAKF,oBAAjC;AACAF,eAAOI,EAAP,CAAU,gBAAV,EAA4B,MAAKF,oBAAjC;AANyB;AAO5B;;;;6CAEoBG,K,EAAO;AACxBP,gBAAIQ,WAAJ,CAAgB,KAAKC,EAArB,EAAyB,4BAAWC,KAAKC,KAAL,CAAW,KAAKT,MAAL,CAAYU,QAAZ,EAAX,CAAX,CAAzB;AACH;;;gCAEO;AACJZ,gBAAIQ,WAAJ,CAAgB,KAAKC,EAArB,EAAyB,EAAzB;AACH;;;mCAEU;AACP;AACA,gBAAII,kBAAkB,4BAAWH,KAAKC,KAAL,CAAW,KAAKT,MAAL,CAAYU,QAAZ,EAAX,CAAX,CAAtB;AACA,mBAAOZ,IAAIc,QAAJ,CAAa,KAAb,EAAoB;AACvBC,2BAAW;AADY,aAApB,EAEJ,IAFI,EAEEF,eAFF,CAAP;AAGH;;;;;;kBAxBgBZ,Q;;;AA2BrB,oBAAUe,iBAAV,CAA4B,UAA5B,EAAwCf,QAAxC","file":"duration.js","sourcesContent":["/**\n * @file duration.js\n * @author yuhui<yuhui06@baidu.com>\n * @date 2017/11/10\n */\nimport Component from '../component';\nimport * as Dom from '../utils/dom';\nimport {timeFormat} from '../utils/time-format';\n\nexport default class Duration extends Component {\n    constructor(player, options) {\n        super(player, options);\n\n        this.handleLoadedMetaData = this.handleLoadedMetaData.bind(this);\n\n        player.on('durationchange', this.handleLoadedMetaData);\n        player.on('loadedmetadata', this.handleLoadedMetaData);\n    }\n\n    handleLoadedMetaData(event) {\n        Dom.textContent(this.el, timeFormat(Math.floor(this.player.duration())));\n    }\n\n    reset() {\n        Dom.textContent(this.el, '');\n    }\n\n    createEl() {\n        // @todo 暂时将 duration 的值写在这，后面需要处理下对于已经发生的事件怎么办\n        let durationContent = timeFormat(Math.floor(this.player.duration()));\n        return Dom.createEl('div', {\n            className: 'lark-duration'\n        }, null, durationContent);\n    }\n}\n\nComponent.registerComponent('Duration', Duration);"]}