{"version":3,"sources":["../../js/ui/play-button.js"],"names":["Dom","Events","PlayButton","player","options","playBtn","$","el","pauseBtn","on","togglePlay","event","isPlay","stopPropagation","paused","play","pause","playIcon","createElement","className","title","pauseIcon","registerComponent"],"mappings":";;;;;;;;AAMA;;;;AACA;;IAAYA,G;;AACZ;;IAAYC,M;;;;;;;;;;+eARZ;;;;;;IAUqBC,U;;;AACjB,wBAAYC,MAAZ,EAAoBC,OAApB,EAA6B;AAAA;;AAGzB;;AAEA;AALyB,4HACnBD,MADmB,EACXC,OADW;;AAMzB,cAAKC,OAAL,GAAeL,IAAIM,CAAJ,CAAM,yBAAN,EAAiC,MAAKC,EAAtC,CAAf;AACA,cAAKC,QAAL,GAAgBR,IAAIM,CAAJ,CAAM,0BAAN,EAAkC,MAAKC,EAAvC,CAAhB;;AAEA;AACAN,eAAOQ,EAAP,CAAU,MAAKJ,OAAf,EAAwB,UAAxB,EAAoC;AAAA,mBAAS,MAAKK,UAAL,CAAgBC,KAAhB,EAAuB,IAAvB,CAAT;AAAA,SAApC;AACAV,eAAOQ,EAAP,CAAU,MAAKD,QAAf,EAAyB,UAAzB,EAAqC;AAAA,mBAAS,MAAKE,UAAL,CAAgBC,KAAhB,EAAuB,KAAvB,CAAT;AAAA,SAArC;;AAXyB;AAa5B;;;;mCAEUA,K,EAAOC,M,EAAQ;AACtB;AACA;AACA;AACAD,kBAAME,eAAN;AACA,gBAAID,MAAJ,EAAY;AACR,oBAAI,KAAKT,MAAL,CAAYW,MAAZ,EAAJ,EAA0B;AACtB,yBAAKX,MAAL,CAAYY,IAAZ;AACH;AACJ,aAJD,MAIO;AACH,oBAAI,CAAC,KAAKZ,MAAL,CAAYW,MAAZ,EAAL,EAA2B;AACvB,yBAAKX,MAAL,CAAYa,KAAZ;AACH;AACJ;AACJ;;;mCAEU;AACP,gBAAMC,WAAWjB,IAAIkB,aAAJ,CAAkB,KAAlB,EAAyB;AACtCC,2BAAW,uCAD2B;AAEtCC,uBAAO;AAF+B,aAAzB,CAAjB;;AAKA,gBAAMC,YAAYrB,IAAIkB,aAAJ,CAAkB,KAAlB,EAAyB;AACvCC,2BAAW,yCAD4B;AAEvCC,uBAAO;AAFgC,aAAzB,CAAlB;;AAKA,mBAAOpB,IAAIkB,aAAJ,CAAkB,KAAlB,EAAyB;AAC5BC,2BAAW;AADiB,aAAzB,EAEJF,QAFI,EAEMI,SAFN,CAAP;AAGH;;;;;;kBA9CgBnB,U;;;AAiDrB,oBAAUoB,iBAAV,CAA4B,YAA5B,EAA0CpB,UAA1C","file":"play-button.js","sourcesContent":["/**\n * @file playButton.js\n * @author yuhui<yuhui06@baidu.com>\n * @date 2017/11/7\n */\n\nimport Component from '../component';\nimport * as Dom from '../utils/dom';\nimport * as Events from '../utils/events';\n\nexport default class PlayButton extends Component {\n    constructor(player, options) {\n        super(player, options);\n\n        // this.handleClick = this.handleClick.bind(this);\n\n        // 注意 这里需要将 context（第二个参数） 设置为 this.el，因为这时 DOM 元素还没有插入到 document 里，所以在 document 里是查不到这个元素的\n        this.playBtn = Dom.$('.lark-play-button__play', this.el);\n        this.pauseBtn = Dom.$('.lark-play-button__pause', this.el);\n\n        // @todo 临时处理 ios11 click 事件问题\n        Events.on(this.playBtn, 'touchend', event => this.togglePlay(event, true));\n        Events.on(this.pauseBtn, 'touchend', event => this.togglePlay(event, false));\n\n    }\n\n    togglePlay(event, isPlay) {\n        // 这里阻止事件冒泡，因为跟播放器顶部 暂停状态时点击播放器任意区域播放视频冲突了\n        // 这里暂停视频后，事件传到顶部后又播放视频\n        // @todo 看有没有更好的解决方法\n        event.stopPropagation();\n        if (isPlay) {\n            if (this.player.paused()) {\n                this.player.play();\n            }\n        } else {\n            if (!this.player.paused()) {\n                this.player.pause();\n            }\n        }\n    }\n\n    createEl() {\n        const playIcon = Dom.createElement('div', {\n            className: 'lark-play-button__play lark-icon-play',\n            title: 'play'\n        });\n\n        const pauseIcon = Dom.createElement('div', {\n            className: 'lark-play-button__pause lark-icon-pause',\n            title: 'pause'\n        });\n\n        return Dom.createElement('div', {\n            className: 'lark-play-button'\n        }, playIcon, pauseIcon);\n    }\n}\n\nComponent.registerComponent('PlayButton', PlayButton);"]}