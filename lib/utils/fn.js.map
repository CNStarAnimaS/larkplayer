{"version":3,"sources":["../../js/utils/fn.js"],"names":["bind","throttle","fn","thisArg","guid","args","apply","wait","lastTimestamp","Date","now"],"mappings":";;;;;QAiBgBA,I,GAAAA,I;QAiBAC,Q,GAAAA,Q;;AA5BhB;;AAEA;;;;;;;;;AASO,SAASD,IAAT,CAAcE,EAAd,EAAkBC,OAAlB,EAA2B;AAC9B,QAAI,CAACD,GAAGE,IAAR,EAAc;AACVF,WAAGE,IAAH,GAAU,oBAAV;AACH;;AAED,WAAO,YAAmB;AAAA,0CAANC,IAAM;AAANA,gBAAM;AAAA;;AACtB,eAAOH,GAAGI,KAAH,CAASH,OAAT,EAAkBE,IAAlB,CAAP;AACH,KAFD;AAGH;;AAED;;;;;;;AA3BA;;;;;;AAkCO,SAASJ,QAAT,CAAkBC,EAAlB,EAAsBK,IAAtB,EAA4B;AAC/B,QAAIC,gBAAgBC,KAAKC,GAAL,EAApB;AACA,WAAO,YAAmB;AACtB,YAAMA,MAAMD,KAAKC,GAAL,EAAZ;AACA,YAAIA,MAAMF,aAAN,IAAuBD,IAA3B,EAAiC;AAC7BL;AACAM,4BAAgBE,GAAhB;AACH;AACJ,KAND;AAOH","file":"fn.js","sourcesContent":["/**\n * @file fn.js 函数相关的一些方法\n * @author yuhui06@baidu.com\n * @date 2017/11/3\n */\n\nimport {newGUID} from './guid';\n\n/**\n * 绑定函数到指定的上下文\n *\n * @todo videojs 在返回的函数上还加了 guid 做更加个性化的处理，目前暂时用不上就没写\n *\n * @param {Funtion} fn 要绑定上下文的函数\n * @param {Object} thisArg 函数要绑定的上下文\n * @return {Function} 该函数会在指定的上下文中执行\n */\nexport function bind(fn, thisArg) {\n    if (!fn.guid) {\n        fn.guid = newGUID();\n    }\n\n    return function (...args) {\n        return fn.apply(thisArg, args);\n    };\n}\n\n/**\n * 限制函数的执行的频率\n *\n * @param {Function} fn 要控制执行频率的函数\n * @param {number} wait 函数的执行间隔大于等于此数值（单位：ms）\n * @return {Funtion} 限制了执行频率的函数\n */\nexport function throttle(fn, wait) {\n    let lastTimestamp = Date.now();\n    return function (...args) {\n        const now = Date.now();\n        if (now - lastTimestamp >= wait) {\n            fn(...args);\n            lastTimestamp = now;\n        }\n    };\n}"]}